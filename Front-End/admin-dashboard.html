<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard | Viva Clinic</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet"/>
  <link rel="icon" type="image/png" href="images/ico.png"/>


<link rel="manifest" href="/site.webmanifest">



     <!-- CSS -->
  <link rel="stylesheet" href="Styles/nav-side-logout-doctor_admin.css">
  <link rel="stylesheet" href="Styles/admin-dashboard.css"/>
  <link rel="stylesheet" href="Styles/bell.css" />
</head>
<body>

<!-- ==================================== NAVBAR ==================================== -->
  <nav class="navbar">
    <div class="nav-left">
      <i class="fas fa-bars menu-icon" id="menuBtn"></i>
      <img src="images/logo.png" alt="Viva Clinic Logo" class="logo">
      <div class="nav-links">
        <a href="admin-dashboard.html" class="nav-link">DashBoard</a>
      </div>
    </div>
    
    <div class="nav-right">
      <div class="bell-container">
        <i class="fas fa-bell" id="bellIcon"></i>
        <div class="notifications-menu" id="notificationsMenu"></div>
      </div>
      <img src="images/default-avatar.png" class="profile-pic" id="profilePic" alt="Profile">
    </div>
  </nav>

  <!-- ==================================== SIDEBAR ==================================== -->
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="admin-info">
        <div class="admin-avatar">
        <img src="images/default-avatar.png" alt="Profile">
      </div>
      <span class="admin-name">ADMIN</span>
    </div>
  </div>

    <ul class="sidebar-menu">
      <li onclick="window.location.href='admin-dashboard.html'">
        <i class="fas fa-bar-chart"></i> Dashboard
      </li>
      <li onclick="window.location.href='Appointments-admin-view.html'">
        <i class="fas fa-calendar-check"></i> Appointments
      </li>
      <li onclick="window.location.href='ExploreAllDoctors.html'">
        <i class="fas fa-user-md"></i> Doctors
      </li>
      <li onclick="window.location.href='patients.html'">
        <i class="fas fa-heartbeat"></i> Patients
      </li>
      <li onclick="window.location.href='register-doctor.html'">
        <i class="fas fa-user-plus"></i> Add New Doctor
      </li>
      <li onclick="window.location.href='Add New Admin.html'">
        <i class="fas fa-user-plus"></i> Add New Admin
      </li>
      <li id="logoutBtn" class="logout-item">
        <i class="fas fa-sign-out-alt"></i> Log Out
    </ul>
  </div>

  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>  
    <!-- ==================================== MAIN CONTENT ==================================== -->

  <div class="container">

    <!-- Main Dashboard Section -->
    <section class="dashboard-section">
      <h1 class="section-title">Dashboard</h1>
      <!-- ========== الكروت الثلاثة الجديدة (زي الصورة بالظبط) ========== -->
<div class="top-stats-cards">
  <!-- Doctors Card -->
  <div class="stat-card doctors-card">
    <div class="stat-icon">
      <i class="material-icons-round">health_and_safety</i>
    </div>
    <div class="stat-info">
      <div class="stat-number">—</div>
      <div class="stat-label">Doctors</div>
    </div>
    <div class="stat-chart">
      <canvas id="doctorsChart"></canvas>
    </div>
  </div>

  <!-- Patients Card -->
  <div class="stat-card patients-card">
    <div class="stat-icon">
      <i class="material-icons-round">groups</i>
    </div>
    <div class="stat-info">
      <div class="stat-number">—</div>
      <div class="stat-label">Patients</div>
    </div>
    <div class="stat-chart">
      <canvas id="patientsChart"></canvas>
    </div>
  </div>

  <!-- Appointments Card -->
  <div class="stat-card appointments-card">
    <div class="stat-icon">
      <i class="material-icons-round">event_available</i>
    </div>
    <div class="stat-info">
      <div class="stat-number">—</div>
      <div class="stat-label">Appointments</div>
    </div>
    <div class="stat-chart">
      <canvas id="appointmentsChart"></canvas>
    </div>
  </div>
</div>
<!-- ========== نهاية الكروت الثلاثة ========== -->

      <!-- Appointment Statistics + Calendar -->
      <div class="grid-2">
        <div class="section chart-section">
          <div class="section-header">
            <h2>Appointment Statistics</h2>
            <select><option>Monthly</option></select>
          </div>
          <div class="legend">
            <span><i style="background:#e15759"></i> Cancelled</span>
            <span><i style="background:#f28e2c"></i> Reschedule</span>
            <span><i style="background:#59a14f"></i> Completed</span>
          </div>
          <canvas id="barChart"></canvas>
        </div>

        <div class="section calendar-section">
          <div class="section-header">
            <h2>Appointments</h2>
            <select><option>All Type</option></select>
          </div>
          <div class="upcoming-appointments">
            <div class="upcoming-item">Loading upcoming appointments...</div>
            <a href="Appointments-admin-view.html" class="view-all">
              View All Appointments
              <i class="fas fa-arrow-right ml-2"></i>
            </a>
          </div>
        </div>
      </div>

      <!-- Popular Doctors + Top 3 Departments -->
      <div class="grid-2">
        <div class="section popular-doctors">
          <h2>Popular Doctors</h2>
          <p style="color:#666;">Loading...</p>
        </div>

        <div class="section top-departments">
          <div class="section-header">
            <h2>Top Departments</h2>
          </div>
          <div class="doughnut-legend">
            <p style="color:#666;">Loading...</p>
          </div>
        </div>
      </div>
    </section>

<!-- Appointment Report Section -->
<div class="report-header">
  <h1 class="section-title">Appointment Report</h1>
  <div class="export-btn" style="visibility:hidden;"></div>
</div>

<!-- Appointment Summary Cards -->
<div class="report-stats-cards">
  <div class="report-card total">
    <div class="report-icon"><i class="material-icons-round">event_note</i></div>
    <div class="report-info">
      <div class="report-label">Total Appointments</div>
      <div class="report-number">—</div>
    </div>
    <canvas id="totalAppChart"></canvas>
  </div>

  <div class="report-card completed">
    <div class="report-icon"><i class="material-icons-round">check_circle</i></div>
    <div class="report-info">
      <div class="report-label">Completed</div>
      <div class="report-number">—</div>
    </div>
    <canvas id="completedChart"></canvas>
  </div>

  <div class="report-card cancelled">
    <div class="report-icon"><i class="material-icons-round">cancel</i></div>
    <div class="report-info">
      <div class="report-label">Cancelled</div>
      <div class="report-number">—</div>
    </div>
    <canvas id="cancelledChart"></canvas>
  </div>

  <div class="report-card rescheduled">
    <div class="report-icon"><i class="material-icons-round">event_repeat</i></div>
    <div class="report-info">
      <div class="report-label">Rescheduled</div>
      <div class="report-number">—</div>
    </div>
    <canvas id="rescheduledChart"></canvas>
  </div>
</div>

<!-- Date Range + Run Report (Beautiful centered card - same as Patients Report) -->
<div class="report-date-range">
    <h3 class="date-range-title">Date Range</h3>
    
    <div class="date-inputs-row">
      <div class="date-field">
        <label>Start Date</label>
        <div class="date-input-wrapper">
          <input type="text" 
                id="appointmentsStartDate" 
                placeholder="mm/dd/yyyy" 
                class="date-input flatpickr">
          <i class="far fa-calendar-alt calendar-icon"></i>
        </div>
      </div>
      
      <div class="date-field">
        <label>End Date</label>
        <div class="date-input-wrapper">
          <input type="text" 
                id="appointmentsEndDate" 
                placeholder="mm/dd/yyyy" 
                class="date-input flatpickr">
          <i class="far fa-calendar-alt calendar-icon"></i>
        </div>
      </div>
    </div>

    <div class="run-report-btn" style="visibility:hidden;"></div>
  </div>

<!-- Appointments Table -->
<div class="section">
  <table class="report-table">
    <thead>
      <tr>
        <th>Date & Time</th>
        <th>Patient</th>
        <th>Practitioner</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>May 27 2025 - 09:30 AM</td>
        <td>Alberto Ripley</td>
        <td>Dr. Mick Thompson</td>
        <td><span class="status rescheduled">Rescheduled</span></td>
      </tr>
      <tr>
        <td>May 27 2025 - 10:00 AM</td>
        <td>Susan Babin</td>
        <td>Dr. Sarah Johnson</td>
        <td><span class="status cancelled">Cancelled</span></td>
      </tr>
      <!-- Add more rows dynamically later -->
    </tbody>
  </table>
</div>
    </section>

   <!-- Patients Report Section -->
<div class="report-header">
  <h1 class="section-title">Patients Report</h1>
  <div class="export-btn" style="visibility:hidden;"></div>
</div>

<!-- Patients Summary Cards -->
<div class="report-stats-cards patients">
  <div class="report-card total-patients">
    <div class="report-icon"><i class="material-icons-round">people</i></div>
    <div class="report-info">
      <div class="report-label">Total Patients</div>
      <div class="report-number">—</div>
    </div>
  </div>

  <div class="report-card new-patients">
    <div class="report-icon"><i class="material-icons-round">person_add</i></div>
    <div class="report-info">
      <div class="report-label">New Patients</div>
      <div class="report-number">—</div>
    </div>
  </div>

  <div class="report-card booked">
    <div class="report-icon"><i class="material-icons-round">event_available</i></div>
    <div class="report-info">
      <div class="report-label">Appointment Booked</div>
      <div class="report-number">—</div>
    </div>
  </div>

  <div class="report-card returning">
    <div class="report-icon"><i class="material-icons-round">person_outline</i></div>
    <div class="report-info">
      <div class="report-label">Returning Patients</div>
      <div class="report-number">—</div>
    </div>
  </div>
</div>

<!-- Date Range + Run Report (Same style as Appointment Report) -->
<div class="report-date-range">
  <h3 class="date-range-title">Date Range</h3>
  
  <div class="date-inputs-row">
    <div class="date-field">
      <label>Start Date</label>
      <div class="date-input-wrapper">
        <input type="text" 
               id="patientsStartDate" 
               placeholder="mm/dd/yyyy" 
               class="date-input flatpickr">
        <i class="far fa-calendar-alt calendar-icon"></i>
      </div>
    </div>
    
    <div class="date-field">
      <label>End Date</label>
      <div class="date-input-wrapper">
        <input type="text" 
               id="patientsEndDate" 
               placeholder="mm/dd/yyyy" 
               class="date-input flatpickr">
        <i class="far fa-calendar-alt calendar-icon"></i>
      </div>
    </div>
  </div>

  <button class="run-report-btn" onclick="runPatientsReport()">
    <i class="fas fa-play"></i> Run Report
  </button>
</div>

<!-- Patients Table -->
<div class="section">
  <table class="report-table">
    <thead>
      <tr>
        <th>Patient</th>
        <th>Age/Gender</th>
        <th>Contact Info</th>
        <th>Practitioner</th>
        <th>Last Visit</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <!-- Rows populated by admin-dashboard.js -->
    </tbody>
  </table>
</div>

<!-- ==================================== LOGOUT MODAL ==================================== -->
  <div id="logoutModal" class="modal">
    <div class="modal-content">
        <p>Are you sure you want to Log out?</p>
        <div class="modal-buttons">
            <button id="modalYesBtn" class="modal-button yes-btn">Yes</button>
            <button id="modalNoBtn" class="modal-button no-btn">No</button>
        </div>
    </div>
</div>
     <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="scripts/admin-dashboard.js"></script>
  <script src="scripts/bell.js"></script>
  <script src="scripts/common-layout.js"></script>

</body>
</html>
