<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Appointment Dashboard</title>

  <!-- Icons & Fonts -->
  <link rel="icon" type="image/png" href="images/ico.png"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet"/>

  <!-- Styles -->
  <link rel="stylesheet" href="Styles/nav-side-logout-doctor_admin.css"> 
  <link rel="stylesheet" href="Styles/doctor_app.css">
  <link rel="stylesheet" href="Styles/bell.css" />
</head>
<body>
  <!-- ==================================== NAVBAR ==================================== -->
  <nav class="navbar">
    <div class="nav-left">
      <!-- Hamburger menu button (toggles sidebar) -->
      <i class="fas fa-bars menu-icon" id="menuBtn"></i>
      
      <!-- Clinic logo -->
      <img src="images/logo.png" alt="Viva Clinic Logo" class="logo">

      <div class="nav-links">
        <a href="homepage.html#home" class="nav-link">Home</a>
        <a href="homepage.html#doctors" class="nav-link">Most Popular</a>
        <a href="homepage.html#contact" class="nav-link">Contact</a>
        <a href="doctor-profile.html" class="nav-link">My Profile</a>
      </div>
    </div>
    
    <div class="nav-right">
      <!-- Notification bell (dropdown will be added via JS) -->
      <div class="bell-container">
        <i class="fas fa-bell" id="bellIcon"></i>
        <!-- Dropdown menu will be injected here dynamically -->
        <div class="notifications-menu" id="notificationsMenu"></div>
      </div>
      <a href="doctor-profile.html">
        <img src="images/default-avatar.png" class="profile-pic" id="profilePic" alt="Profile">
      </a> 
    </div>
  </nav>

  <!-- ==================================== SIDEBAR ==================================== -->
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="admin-info">
        <div class="admin-avatar">
          <img src="images/doctor.png" alt="Profile">
        </div>
        <span class="admin-name">Doctor Name</span>
      </div>
    </div>

    <ul class="sidebar-menu">
      <li onclick="window.location.href='doctor-profile.html'">
        <i class="fas fa-user"></i> My Profile
      </li>
      <li onclick="window.location.href='doctor_Appointment.html'">
        <i class="fas fa-calendar"></i> Appointments
      </li>
      <li id="logoutBtn" class="logout-item" href="logout-modal.html">
        <i class="fas fa-sign-out-alt"></i> Log Out
      </li>
    </ul>
  </div>

  <!-- ==================================== MAIN ==================================== -->

  <div id="sidebarOverlay" class="overlay hidden" tabindex="-1"></div>

  <main class="main">
    <h1 class="page-title">Doctor's Availability & Appointments</h1>

    <section class="card availability-card" aria-labelledby="avail-heading">
      <div class="card-head" id="avail-heading">Availability</div>

      <div class="weekdays" id="weekdayTabs" role="tablist" aria-label="Weekdays">
        <button class="day-tab active" data-day="Monday">Monday</button>
        <button class="day-tab" data-day="Tuesday">Tuesday</button>
        <button class="day-tab" data-day="Wednesday">Wednesday</button>
        <button class="day-tab" data-day="Thursday">Thursday</button>
        <button class="day-tab" data-day="Friday">Friday</button>
        <button class="day-tab" data-day="Saturday">Saturday</button>
        <button class="day-tab" data-day="Sunday">Sunday</button>
      </div>

      <div class="slots-area" id="slotsArea"></div>

      <div class="edit-availability-bar" id="editAvailabilityBtn" tabindex="0">Edit Availability</div>

      <div class="legend-row">
        <div class="legend-item"><span class="legend-dot neutral"></span> Available</div>
        <div class="legend-item"><span class="legend-dot booked"></span> Booked</div>
        <div class="legend-item"><span class="legend-dot cancelled"></span> Cancelled</div>
        <div class="legend-item"><span class="legend-dot completed"></span> Completed</div>
      </div>
    </section>

    <section class="card appointments-card" aria-labelledby="recent-heading">
      <div class="appointments-toolbar">
        <div class="card-head" id="recent-heading">Recent Appointments</div>
      </div>

      <div class="table-wrap">
        <table class="appointments-table" aria-describedby="recent-heading">
          <thead>
            <tr>
              <th>Patient</th>
              <th>Date &amp; Time</th>
              <th>Status</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="appointments-list"></tbody>
        </table>
      </div>
    </section>
  </main>

  <div id="modalOverlay" class="overlay hidden"></div>

  <div id="appointmentModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="appointmentModalTitle">
    <div class="modal-inner">
      <header class="modal-header">
        <h3 id="appointmentModalTitle">Appointment Details</h3>
        <button class="modal-close" id="closeAppointmentModal" aria-label="Close">&times;</button>
      </header>
      <div class="modal-body" id="appointmentModalBody"></div>
      <footer class="modal-footer">
        <button class="btn btn-secondary" id="closeAppBtn">Close</button>
      </footer>
    </div>
  </div>

  <div id="editAvailabilityModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="editAvailTitle">
    <div class="modal-inner large">
      <header class="modal-header">
        <h3 id="editAvailTitle">Appointment Schedule</h3>
        <button class="modal-close" id="closeEditAvail" aria-label="Close">&times;</button>
      </header>
      <div class="modal-body">
        <div class="days-row" id="editDays">
          <button class="small-day active" data-day="Monday">Monday</button>
          <button class="small-day" data-day="Tuesday">Tuesday</button>
          <button class="small-day" data-day="Wednesday">Wednesday</button>
          <button class="small-day" data-day="Thursday">Thursday</button>
          <button class="small-day" data-day="Friday">Friday</button>
          <button class="small-day" data-day="Saturday">Saturday</button>
          <button class="small-day" data-day="Sunday">Sunday</button>
        </div>

        <div class="schedule-row">
          <div class="field">
            <label>From</label>
            <input type="time" id="fromTime" value="09:00">
          </div>
          <div class="field">
            <label>To</label>
            <input type="time" id="toTime" value="10:00">
          </div>
          <button class="btn btn-add" id="addSlotBtn" title="Add slot">+</button>
        </div>

        <div class="picker-row">
          <select id="statusSelect">
            <option value="neutral">Available</option>
            <option value="booked">Booked</option>
            <option value="cancelled">Cancelled</option>
            <option value="completed">Completed</option>
          </select>
          <button class="btn btn-apply" id="applyAllBtn">Apply All</button>
        </div>

        <div class="current-slots" id="currentSlots"></div>
      </div>
      <footer class="modal-footer">
        <button class="btn btn-primary" id="saveAvailBtn">Save</button>
        <button class="btn btn-secondary" id="cancelAvailBtn">Cancel</button>
      </footer>
    </div>
  </div>

  
  
  <script src="scripts/common-layout.js"></script>
  <script src="scripts/Dynamic Navigation Logic.js"></script>
  <script src="scripts/doctor_appointment.js"></script>
  <script src="scripts/bell.js"></script>
</body>
</html>
