<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Appointment Dashboard</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="Styles/doctor_Appointment.css">
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="nav-left">
      <i class="fas fa-bars menu-icon" id="menuBtn" aria-label="Open menu"></i>
      <img src="images/logo.png" alt="Viva Clinic Logo" class="logo">
      <div class="nav-links">
        <a href="#" class="nav-link">Home</a>
        <a href="#" class="nav-link">Most Popular</a>
        <a href="#" class="nav-link">Contact</a>
      </div>
    </div>
    <div class="nav-right">
      <div class="bell-container" id="bellContainer" title="Notifications">
        <i class="fas fa-bell" id="bellIcon"></i>
      </div>
      <a href="#"><img src="https://randomuser.me/api/portraits/men/11.jpg" class="profile-pic2" alt="User"></a>
    </div>
  </nav>

  <!-- SIDEBAR -->
  <aside class="sidebar" id="sidebar" aria-hidden="true">
    <div id="userSidebar" class="hidden">
      <div class="user-info">
        <img src="https://randomuser.me/api/portraits/men/11.jpg" id="sidebar-profile-img" alt="User">
        <h3 id="sidebar-user-name">Dr. Ahmed</h3>
        <p id="sidebar-user-email">ahmed@example.com</p>
      </div>
      <ul class="sidebar-menu">
        <li onclick="location.href='#'"><i class="fas fa-calendar-check"></i> My Appointments</li>
        <li onclick="location.href='#'"><i class="fas fa-file-medical"></i> Medical Record</li>
        <li onclick="location.href='#'"><i class="fas fa-comments"></i> Chats</li>
        <li onclick="location.href='#'"><i class="fas fa-cog"></i> Settings</li>
        <li id="logoutBtn" class="logout-item"><i class="fas fa-sign-out-alt"></i> Log Out</li>
      </ul>
    </div>
  </aside>
  <div id="sidebarOverlay" class="overlay hidden" tabindex="-1"></div>

  <!-- MAIN -->
  <main class="main">
    <h1 class="page-title">Appointment</h1>

    <!-- Availability Card -->
    <section class="card availability-card" aria-labelledby="avail-heading">
      <div class="card-head" id="avail-heading">Availability</div>

      <div class="weekdays" id="weekdayTabs" role="tablist" aria-label="Weekdays">
        <button class="day-tab active" data-day="Monday">Monday</button>
        <button class="day-tab" data-day="Tuesday">Tuesday</button>
        <button class="day-tab" data-day="Wednesday">Wednesday</button>
        <button class="day-tab" data-day="Thursday">Thursday</button>
        <button class="day-tab" data-day="Friday">Friday</button>
      </div>

      <div class="slots-area" id="slotsArea">
        <!-- slot buttons injected by JS -->
      </div>

      <div class="edit-availability-bar" id="editAvailabilityBtn" tabindex="0">Edit Availability</div>

      <div class="legend-row">
        <div class="legend-item"><span class="legend-dot neutral"></span> Available</div>
        <div class="legend-item"><span class="legend-dot booked"></span> Booked</div>
        <div class="legend-item"><span class="legend-dot cancelled"></span> Cancelled</div>
        <div class="legend-item"><span class="legend-dot completed"></span> Completed</div>
      </div>
    </section>

    <!-- Recent Appointments -->
    <section class="card appointments-card" aria-labelledby="recent-heading">
      <div class="appointments-toolbar">
        <div class="card-head" id="recent-heading">Recent Appointments</div>
        <select class="dropdown" id="filter-dropdown" aria-label="Filter appointments">
          <option value="weekly">Weekly</option>
          <option value="monthly">Monthly</option>
        </select>
      </div>

      <div class="table-wrap">
        <table class="appointments-table" aria-describedby="recent-heading">
          <thead>
            <tr>
              <th>Patient</th>
              <th>Date &amp; Time</th>
              <th>Status</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="appointments-list">
            <!-- injected by JS -->
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- MODALS -->
  <div id="modalOverlay" class="overlay hidden"></div>

  <!-- View / Actions Modal -->
  <div id="appointmentModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="appointmentModalTitle">
    <div class="modal-inner">
      <header class="modal-header">
        <h3 id="appointmentModalTitle">Appointment Details</h3>
        <button class="modal-close" id="closeAppointmentModal" aria-label="Close">✕</button>
      </header>
      <div class="modal-body" id="appointmentModalBody">
        <!-- injected -->
      </div>
      <footer class="modal-footer">
        <button class="btn btn-secondary" id="closeAppBtn">Close</button>
      </footer>
    </div>
  </div>

  <!-- Edit Availability Modal -->
  <div id="editAvailabilityModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="editAvailTitle">
    <div class="modal-inner large">
      <header class="modal-header">
        <h3 id="editAvailTitle">Appointment Schedule</h3>
        <button class="modal-close" id="closeEditAvail" aria-label="Close">✕</button>
      </header>
      <div class="modal-body">
        <div class="days-row" id="editDays">
          <button class="small-day active" data-day="Monday">Monday</button>
          <button class="small-day" data-day="Tuesday">Tuesday</button>
          <button class="small-day" data-day="Wednesday">Wednesday</button>
          <button class="small-day" data-day="Thursday">Thursday</button>
          <button class="small-day" data-day="Friday">Friday</button>
          <button class="small-day" data-day="Saturday">Saturday</button>
          <button class="small-day" data-day="Sunday">Sunday</button>
        </div>

        <div class="schedule-row">
          <div class="field">
            <label>From</label>
            <input type="time" id="fromTime" value="09:00">
          </div>
          <div class="field">
            <label>To</label>
            <input type="time" id="toTime" value="10:00">
          </div>
          <button class="btn btn-add" id="addSlotBtn" title="Add slot">+</button>
        </div>

        <div class="picker-row">
          <select id="statusSelect">
            <option value="neutral">Available</option>
            <option value="booked">Booked</option>
            <option value="cancelled">Cancelled</option>
            <option value="completed">Completed</option>
          </select>
          <button class="btn btn-apply" id="applyAllBtn">Apply All</button>
        </div>

        <div class="current-slots" id="currentSlots">
          <!-- current slots for selected day -->
        </div>

      </div>
      <footer class="modal-footer">
        <button class="btn btn-primary" id="saveAvailBtn">Save</button>
        <button class="btn btn-secondary" id="cancelAvailBtn">Cancel</button>
      </footer>
    </div>
  </div>

  <script src="scripts/doctor_appointment.js"></script>
</body>
</html>